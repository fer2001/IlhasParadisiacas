<div class="container mb-5">
  <div class="banner mt-4" style="background-image: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('<%= cl_image_path @island.photo.key.nil? ? "http://cdn.cnn.com/cnnnext/dam/assets/180219103122-zanzibar-and-its-islands---mnemba-a-view-from-the-sky-mnemba-island-lodge.jpg" : @island.photo.key %>')">
    <div class="island-infos">
      <h1><%= @island.name %></h1>
      <p>Location: <%=@island.location %></p>
    </div>

    <div class="user-actions p-3">
      <% if @island.user == current_user %>
        <a href="" type="button" class="btn-helper" data-bs-toggle="modal" data-bs-target="#exampleModal">
          <span><i class="fa-solid fa-pencil"></i> Edit island</span>
        </a>
        <span class="text-white"> | </span>
        <%= link_to @island, class: "btn-delete", data: { turbo_method: :delete, turbo_confirm: "Are you sure you want to delete this list?" } do %>
          <span><i class="fa-solid fa-trash"></i> Delete</span>
        <% end %>
      <% end %>
    </div>
  </div>

  <% if @island.user != current_user %>
    <div class="information">
      <div class="row">
        <div class="island-infos col-sm-8 mt-5">
          <p><strong>Hosted by: </strong><%= @island.user.name %></p>
          <hr>
          <p><strong>Description</strong><br><%= @island.description %></p>
          <%# adicionar uma foto de perfil para o usuário %>
          <hr>
        </div>

        <div class="col-sm-4 mt-5">
          <div class="card shadow-sm">
            <div class="card-body">
              <h5 class="card-title">R$ <%= @island.price %> per night</h5>
              <p class="card-text">calendário</p>
              <%= link_to "Rent #{@island.name}", new_island_order_path(@island), class: "btn btn-primary" %>
            </div>
          </div>
        </div>
      </div>
    </div>
  <% else %>
    <div class="island-infos mt-5">
      <p><strong>Hosted by: </strong><%= @island.user.name %></p>
      <hr>
      <p><strong>Description</strong><br><%= @island.description %></p>
    </div>
  <% end %>


  <div class="map mt-5">
    <h4>You will be here</h4>
    <div style="width: 100%; height: 600px;"
      data-controller="map"
      data-map-markers-value="<%= @markers.to_json %>"
      data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
    </div>
  </div>

</div>

<%= render "modal", island: @island %>
